(this["webpackJsonpreact-form-test"]=this["webpackJsonpreact-form-test"]||[]).push([[0],{104:function(e,t,a){e.exports=a(115)},108:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),l=a(91),i=a(26),u=a(24);var m=r.a.createContext();var s=function(){return r.a.useContext(m)},d=(a(108),a(150)),f=a(153),b=a(155),p=a(156),h=Object(d.a)((function(){return{container:{height:"100vh",padding:"50px 0"},paper:{padding:"20px"},table:{height:"50%",display:"flex",flexGrow:"1","& > div":{width:"100%"}},"@media (min-width: 960px)":{table:{height:"100%"}}}}));function v(e){var t=e.form,a=e.table,n=h();return r.a.createElement(f.a,null,r.a.createElement(b.a,{className:n.container,container:!0,spacing:1},r.a.createElement(b.a,{item:!0,xs:12,md:4},r.a.createElement(p.a,{className:n.paper},t)),r.a.createElement(b.a,{className:n.table,item:!0,xs:12,md:8},r.a.createElement(p.a,null,a))))}var E=a(157),g=a(2),y=a(42),O=Object(d.a)((function(){return{form:{display:"flex",flexDirection:"column","& > div":{marginBottom:"20px !important"}}}}));function S(e){var t=e.handleSubmit,a=e.validationSchema,n=e.children,o=e.initialValues,c=Object(g.a)(e,["handleSubmit","validationSchema","children","initialValues"]),l=O();return r.a.createElement(y.b,Object.assign({onSubmit:t,validationSchema:a,initialValues:o},c),(function(e){return r.a.createElement(y.a,{className:l.form,onSubmit:function(t){return e.handleSubmit(t)}},n)}))}var j=a(164);function x(e){var t=Object(y.c)(e),a=Object(u.a)(t,2),n=a[0],o=a[1];return r.a.createElement(j.a,Object.assign({error:!!o.touched&&!!o.error,size:"small",helperText:o.error,variant:"outlined"},n,e))}var k=a(165);function N(e){var t=e.options,a=Object(g.a)(e,["options"]),n=Object(y.c)(a),o=Object(u.a)(n,2),c=o[0],l=o[1];return r.a.createElement(j.a,Object.assign({select:!0,error:!!l.touched&&!!l.error,size:"small",helperText:l.error,variant:"outlined"},c,a),t.map((function(e){return r.a.createElement(k.a,{key:e.value,value:e.value},e.label)})))}var P=a(44),w=P.a().shape({firstName:P.b().required("Please enter your first name"),lastName:P.b().required("Please enter your last name"),phone:P.b().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").required("Please enter your phone number"),gender:P.b().required("Please select your gender"),age:P.b().required("Please enter your age")}),q={firstName:"",lastName:"",phone:"",gender:"",age:""},C=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}];function B(){var e=s().addPerson;return r.a.createElement(S,{initialValues:q,handleSubmit:function(t,a){e(t),a.resetForm()},validationSchema:w},r.a.createElement(x,{name:"firstName",label:"First name"}),r.a.createElement(x,{name:"lastName",label:"Last name"}),r.a.createElement(x,{type:"tel",name:"phone",label:"Phone number"}),r.a.createElement(N,{name:"gender",label:"Gender",options:C}),r.a.createElement(x,{type:"number",inputProps:{min:"0",max:"122"},name:"age",label:"Age"}),r.a.createElement(E.a,{type:"submit",color:"primary",variant:"contained"},"Submit"))}var D=a(162),I=a(163),J=a(160),T=a(161),V=a(159),z=a(5),A=a.n(z),F=a(158),R=a(167);function W(e){var t=e.cells,a=e.orderBy,n=e.order,o=e.onRequestSort;return r.a.createElement(F.a,null,r.a.createElement(V.a,null,t.map((function(e){return r.a.createElement(J.a,{key:e,sortDirection:a===e&&n},r.a.createElement(R.a,{active:a===e,direction:a===e?n:"asc",onClick:(t=e,function(e){o(e,t)})},r.a.createElement("span",{style:{textTransform:"uppercase"}},e)));var t})),r.a.createElement(J.a,{padding:"checkbox"})))}function G(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}F.a.propTypes={cells:A.a.arrayOf(A.a.string),orderBy:A.a.string,order:A.a.string,onRequestSort:A.a.func};var M=a(95),$=a.n(M),H=Object(d.a)((function(){return{delete:{background:"none",border:"none",cursor:"pointer",transition:"opacity 250ms","&:hover, &:focus":{opacity:".7",outline:"none"}}}}));function L(e){var t=e.onClick,a=H();return r.a.createElement("button",{className:a.delete,onClick:t},r.a.createElement($.a,null))}function _(e){var t=e.cells,a=e.data,n=e.onDelete,o=r.a.useState("asc"),c=Object(u.a)(o,2),l=c[0],i=c[1],m=r.a.useState(t[0]),s=Object(u.a)(m,2),d=s[0],f=s[1],b=r.a.useCallback((function(e,t){i(d===t&&"asc"===l?"desc":"asc"),f(t)}),[l,d]);return r.a.createElement(T.a,{style:{height:"100%"}},r.a.createElement(D.a,{stickyHeader:!0},r.a.createElement(W,{cells:t,onRequestSort:b,orderBy:d,order:l}),r.a.createElement(I.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(a,function(e,t){return"desc"===e?function(e,a){return G(e,a,t)}:function(e,a){return-G(e,a,t)}}(l,d)).map((function(e,a){return r.a.createElement(V.a,{key:e.id},t.map((function(t){return r.a.createElement(J.a,{key:e[t]},e[t])})),r.a.createElement(J.a,{padding:"checkbox"},r.a.createElement(L,{onClick:function(){return n(e.id)}})))})))))}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)&&0!==e.length?Object.keys(e.reduce((function(e,t){return Object.assign(e,t)}),{})).filter((function(e){return!t.some((function(t){return t===e}))})):[]}var Q=Object(d.a)((function(){return{empty:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#ddd",fontSize:"32px",fontWeight:"bold"}}}));function U(){var e=Q();return r.a.createElement("div",{className:e.empty},"Empty")}function X(){var e=s(),t=e.formData,a=e.deletePerson;return t&&0===t.length?r.a.createElement(U,null):r.a.createElement(_,{cells:K(t,["id"]),data:t,onDelete:function(e){return a(e)}})}var Y=function(){return r.a.createElement(v,{form:r.a.createElement(B,null),table:r.a.createElement(X,null)})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(e){var t=e.children,a=r.a.useState([]),n=Object(u.a)(a,2),o=n[0],c=n[1];return r.a.useEffect((function(){var e=localStorage.getItem("form-data");e&&c(JSON.parse(e))}),[]),r.a.useEffect((function(){try{localStorage.setItem("form-data",JSON.stringify(o))}catch(e){console.error(e.message)}}),[o]),r.a.createElement(m.Provider,{value:{formData:o,addPerson:function(e){c((function(t){return[].concat(Object(i.a)(t),[Object(l.a)({},e,{id:"_"+Math.random().toString(36).substr(2,9)})])}))},deletePerson:function(e){var t=o.filter((function(t){return t.id!==e}));c(t)}}},t)}),null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.b3450ffc.chunk.js.map